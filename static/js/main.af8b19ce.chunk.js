(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){e.exports=a(60)},31:function(e,t,a){},58:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),s=a.n(c),o=(a(31),a(2)),l=a(3),i=a(6),m=a(4),u=a(7),h=a(24),d=a(10),g=a.n(d),v=function(e){var t=e.navItems,a=e.onChange,n=e.gameOrder,c=e.currentTab,s=void 0===c?0:c;return r.a.createElement("li",{className:s===n?"nav-item active font-weight-bold":"nav-item font-weight-bold"},r.a.createElement("a",{onClick:function(){return a(n)},className:" nav-link",href:"#"},t[n]))},f=function(e){var t=e.navItems,a=e.currentTab,n=e.onChange;return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark",style:{backgroundColor:"black"}},r.a.createElement("a",{className:"navbar-brand text-white font-weight-bold"},"Twitch Live Games"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},[0,1,2,3,4].map(function(e){return r.a.createElement(v,{navItems:t,currentTab:a,onChange:n,gameOrder:e,key:"key_"+e})})),r.a.createElement("span",{className:"navbar-text text-light text-white font-weight-bold"},"Top 5 popular games on Twitch ",r.a.createElement("mark",{className:"bg-light"},"NOW"))))},p=a(8),b=(a(51),a(5));function w(){var e=Object(p.a)(["\n    font-weight:bold;\n    color: white;\n    opacity: 0.8;\n    background-color: black;\n    transition: .2s;\n    :hover {\n        color:white;\n        text-decoration:none;\n        transform: scale(1.05);\n        opacity: 1;\n        box-shadow: 0 0 2rem black;\n        z-index: 1;\n    }\n"]);return w=function(){return e},e}var E=function(e){var t=b.a.a(w()),a=e.item,n=a.thumbnail_url.replace("{width}x{height}","720x400");return r.a.createElement(t,{className:"streambox col-12 col-sm-6 col-md-4 col-lg-3 p-1 ",target:"_blank",href:a.url},r.a.createElement("img",{className:"stream--thumbnail img-fluid",src:n,alt:"Stream thumbnail"}),r.a.createElement("div",{className:"streambox--info row m-0"},r.a.createElement("div",{className:"col-3 p-2"},r.a.createElement("img",{className:"stream--userimg rounded-circle img-fluid",src:a.userInfo.profile_image_url,alt:"User profile image"})),r.a.createElement("div",{className:"col-9 p-1 flex-column"},r.a.createElement("div",{className:"h-50 d-flex"},r.a.createElement("div",{className:"stream--title align-self-center text-truncate "},a.title)),r.a.createElement("div",{className:"h-50 d-flex"},r.a.createElement("div",{className:"stream--username align-self-center text-truncate "},r.a.createElement("small",null,a.userInfo.display_name))))))};function x(){var e=Object(p.a)(["\n  color:#b8dafa;\n  \n"]);return x=function(){return e},e}function N(){var e=Object(p.a)(["\n  color:#e7f3fd;\n"]);return N=function(){return e},e}var y=b.a.h1(N()),k=b.a.p(x()),S=function(e){function t(e){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).call(this,e))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){this.props.ShowDropdown&&["dropdown"].push("is-active");var e=this.props,t=e.navItems,a=e.currentTab,n=e.currentStreams,c=e.error,s=t[a],o=r.a.createElement(k,{style:{textAlign:"center",margin:"300px"}},"Something went wrong.....");return c||(o=r.a.createElement("section",null,r.a.createElement(y,{className:"main--title mt-3 display-4 text-center"},s||t[0]),r.a.createElement(k,{className:"main--subtitle lead text-center"},"Top 24 popular live streams sorted by current viewers"),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"streams row"},n.map(function(e,t){return r.a.createElement(E,{item:e,key:"key_"+t})}))))),r.a.createElement("div",null,o)}}]),t}(n.Component),j=function(e){return r.a.createElement("div",{className:"footer   text-muted text-center m-4",style:{padding:0}},"This page is created by ",r.a.createElement("a",{href:"https://github.com/cwenwen"},"me")," -"," ",r.a.createElement("a",{href:"https://github.com/cwenwen/APIsPractice/tree/master/Twitch_API"},"View on Github"))},I=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={navItems:[],gamesIds:[],currentStreams:[],error:!1},a.onNavChange=function(e){a.setState({currentTab:e})},a.getGames=function(){return g.a.get("https://api.twitch.tv/helix/games/top?first=5",{headers:{"Client-ID":"jdsl3lgf1c8gcxi44u29sm30m015n3"}})},a.getCurrentStreams=function(e){return g.a.get("https://api.twitch.tv/helix/streams?game_id=".concat(e,"&first=24"),{headers:{"Client-ID":"jdsl3lgf1c8gcxi44u29sm30m015n3"}})},a.getUsers=function(e){for(var t="https://api.twitch.tv/helix/users?id=".concat(e[0]),a=1;a<e.length;a++)t+="&id=".concat(e[a]);return g.a.get(t,{headers:{"Client-ID":"jdsl3lgf1c8gcxi44u29sm30m015n3"}})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=[],a=[],n=[],r=[];this.getGames().then(function(n){for(var r=0;r<5;r++)t.push(n.data.data[r].name),a.push(n.data.data[r].id);return e.setState({navItems:t,gamesIds:a}),e.getCurrentStreams(a[0])}).then(function(t){n=t.data.data;for(var a=0;a<n.length;a++)r.push(n[a].user_id);return e.getUsers(r)}).then(function(t){for(var a=t.data.data,r=0;r<a.length;r++)n[r].userInfo=a[r],n[r].url="https://www.twitch.tv/".concat(a[r].login);e.setState({currentStreams:n})}).catch(function(t){e.setState({error:!0})})}},{key:"componentDidUpdate",value:function(e,t){var a=this,n=this.state.currentTab,r=Object(h.a)(this.state.gamesIds),c=[],s=[];t.currentTab!==n&&(console.log(r),this.setState({currentStreams:c}),this.getCurrentStreams(r[n]).then(function(e){c=e.data.data;for(var t=0;t<c.length;t++)s.push(c[t].user_id);return a.getUsers(s)}).then(function(e){for(var t=e.data.data,n=0;n<t.length;n++)c[n].userInfo=t[n],c[n].url="https://www.twitch.tv/".concat(t[n].login);a.setState({currentStreams:c})}).catch(function(e){a.setState({error:!0})}))}},{key:"render",value:function(){var e=this.state,t=e.navItems,a=e.currentTab,n=e.currentStreams,c=e.error;return r.a.createElement("div",null,r.a.createElement(f,{navItems:t,currentTab:a,onChange:this.onNavChange}),r.a.createElement(S,{navItems:t,currentTab:a,currentStreams:n,error:c}),r.a.createElement(j,null),">")}}]),t}(n.Component),O=(a(58),function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"App"},r.a.createElement(I,null))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,2,1]]]);
//# sourceMappingURL=main.af8b19ce.chunk.js.map