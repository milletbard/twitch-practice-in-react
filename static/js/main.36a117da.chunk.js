(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,a){e.exports=a(59)},30:function(e,t,a){},57:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),o=a.n(c),l=(a(30),a(2)),i=a(3),s=a(6),m=a(4),u=a(7),d=function(e){var t=e.navItems,a=e.onChange,n=e.gameOrder,c=e.currentTab,o=void 0===c?0:c;return r.a.createElement("li",{className:o===n?"nav-item active font-weight-bold":"nav-item font-weight-bold"},r.a.createElement("a",{onClick:function(){return a(n)},className:" nav-link",href:"#"},t[n]))},h=function(e){var t=e.navItems,a=e.currentTab,n=e.onChange;return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark",style:{backgroundColor:"black"}},r.a.createElement("a",{className:"navbar-brand text-white font-weight-bold"},"Twitch Live Games"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},[0,1,2,3,4].map(function(e){return r.a.createElement(d,{navItems:t,currentTab:a,onChange:n,gameOrder:e,key:"key_"+e})})),r.a.createElement("span",{className:"navbar-text text-light text-white font-weight-bold"},"Top 5 popular games on Twitch ",r.a.createElement("mark",{className:"bg-light"},"NOW"))))},v=a(8),b=(a(32),a(5));function f(){var e=Object(v.a)(["\n    font-weight:bold;\n    color: white;\n    opacity: 0.8;\n    background-color: black;\n    transition: .2s;\n    :hover {\n        color:white;\n        text-decoration:none;\n        transform: scale(1.05);\n        opacity: 1;\n        box-shadow: 0 0 2rem black;\n        z-index: 1;\n    }\n"]);return f=function(){return e},e}var p=function(e){var t=b.a.a(f()),a=e.item,n=a.thumbnail_url.replace("{width}x{height}","720x400");return r.a.createElement(t,{className:"streambox col-12 col-sm-6 col-md-4 col-lg-3 p-1 ",target:"_blank",href:a.url},r.a.createElement("img",{className:"stream--thumbnail img-fluid",src:n,alt:"Stream thumbnail"}),r.a.createElement("div",{className:"streambox--info row m-0"},r.a.createElement("div",{className:"col-3 p-2"},r.a.createElement("img",{className:"stream--userimg rounded-circle img-fluid",src:a.userInfo.profile_image_url,alt:"User profile image"})),r.a.createElement("div",{className:"col-9 p-1 flex-column"},r.a.createElement("div",{className:"h-50 d-flex"},r.a.createElement("div",{className:"stream--title align-self-center text-truncate "},a.title)),r.a.createElement("div",{className:"h-50 d-flex"},r.a.createElement("div",{className:"stream--username align-self-center text-truncate "},r.a.createElement("small",null,a.userInfo.display_name))))))};function g(){var e=Object(v.a)(["\n  color:#b8dafa;\n  \n"]);return g=function(){return e},e}function w(){var e=Object(v.a)(["\n  color:#e7f3fd;\n"]);return w=function(){return e},e}var E=b.a.h1(w()),N=b.a.p(g()),x=function(e){function t(e){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){this.props.ShowDropdown&&["dropdown"].push("is-active");var e=this.props,t=e.navItems,a=e.currentTab,n=e.currentStreams,c=e.error,o=t[a],l=r.a.createElement(N,{style:{textAlign:"center",margin:"300px"}},"Something went wrong.....");return c||(l=r.a.createElement("section",null,r.a.createElement(E,{className:"main--title mt-3 display-4 text-center"},o||t[0]),r.a.createElement(N,{className:"main--subtitle lead text-center"},"Top 24 popular live streams sorted by current viewers"),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"streams row"},n.map(function(e,t){return r.a.createElement(p,{item:e,key:"key_"+t})}))))),r.a.createElement("div",null,l)}}]),t}(n.Component),y=function(e){return r.a.createElement("div",{className:"footer   text-muted text-center m-4",style:{padding:0}},"This page is created by ",r.a.createElement("a",{href:"https://github.com/milletbard"},"me")," -"," ",r.a.createElement("a",{href:"https://github.com/milletbard/twitch-practice-in-react/tree/master"},"View on Github"))},k=a(23),O=a.n(k).a.create({baseURL:"https://api.twitch.tv/helix/",headers:{"Client-ID":"zm42w1xj3zt740cfxo455igot5efz3"}}),S=function(e){return O.get("streams?game_id".concat(e,"&first=24"))},j=function(e){for(var t="/users?id=".concat(e[0]),a=1;a<e.length;a++)t+="&id=".concat(e[a]);return O.get(t)},T=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={navItems:[],gamesIds:[],currentTab:0,currentStreams:[],error:!1},a.onNavChange=function(e){a.setState({currentTab:e})},a.updateStream=function(){var e=a.state,t=e.gamesIds,n=e.currentTab,r=[],c=[];S(t[n]).then(function(e){r=e.data.data;for(var t=0;t<r.length;t++)c.push(r[t].user_id);return j(c)}).then(function(e){for(var t=e.data.data,n=0;n<t.length;n++)r[n].userInfo=t[n],r[n].url="https://www.twitch.tv/".concat(t[n].login);a.setState({currentStreams:r})}).catch(function(e){a.setState({error:!0})})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=[],a=[];O.get("/games/top?first=5").then(function(n){for(var r=0;r<5;r++)t.push(n.data.data[r].name),a.push(n.data.data[r].id);e.setState({navItems:t,gamesIds:a})}).then(function(){e.updateStream()}).catch(function(t){e.setState({error:!0})})}},{key:"componentDidUpdate",value:function(e,t){t.currentTab!==this.state.currentTab&&(this.setState({currentStreams:[]}),this.updateStream())}},{key:"render",value:function(){var e=this.state,t=e.navItems,a=e.currentTab,n=e.currentStreams,c=e.error;return r.a.createElement("div",null,r.a.createElement(h,{navItems:t,currentTab:a,onChange:this.onNavChange}),r.a.createElement(x,{navItems:t,currentTab:a,currentStreams:n,error:c}),r.a.createElement(y,null),">")}}]),t}(n.Component),I=(a(57),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"App"},r.a.createElement(T,null))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[25,2,1]]]);
//# sourceMappingURL=main.36a117da.chunk.js.map